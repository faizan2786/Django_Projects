{% extends 'flights/layout.html' %}

{% block body %}

<h1> Flight {{flight.id}}</h1>
<ul>
    <li>Origin: {{flight.origin}} </li>
    <li>Destination: {{flight.destination}} </li>
    <li>Duration: <span style="color: red;"> {{flight.duration}} minutes </span> </li>
</ul>
<h3> Passengers </h3>
<ul>
    {% for p in passengers %}
    <li> {{p}} </li>  
    {% empty %}
    <li> No Passengers exist </li>
    {% endfor %}
</ul>
<h3> Add Passengers </h3>
<form action="{% url 'flights:booking' flight.id %}" method='post'>
    {% csrf_token %}
    <select name="passenger" id="">
        {% for p in non_passengers %}
        <option value="{{p.id}}"> {{p}} </option>    {% comment %} 
                                                    each option is the passenger's name (object p's string value) 
                                                    and its value (for submission) going to be its id 
                                                    {% endcomment %}
        {% endfor %}
        <input type='submit' style="margin-left: 1em; size: ">
    </select>
</form>
<br/>
<a href="{% url 'flights:index' %}"> Go back to all flights </a>

{% endblock %}